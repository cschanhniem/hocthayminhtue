{% macro renderNode(node) %}
<div class="tree-node">
    {% if node.children %}
    <details class="ml-4">
        <summary class="cursor-pointer hover:text-blue-600 py-1">
            <a href="/content/{{ node.content }}/" class="text-gray-700 hover:text-blue-600">
                {{ node.label }}
            </a>
        </summary>
        <div class="pl-4 border-l border-gray-200">
            {% for child in node.children %}
                {{ renderNode(child) }}
            {% endfor %}
        </div>
    </details>
    {% else %}
    <div class="ml-4 py-1">
        <a href="/content/{{ node.content }}/" class="text-gray-700 hover:text-blue-600">
            {{ node.label }}
        </a>
    </div>
    {% endif %}
</div>
{% endmacro %}

<nav class="tree">
    {{ renderNode(concepts.root) }}
</nav>

<style>
.tree-node summary::-webkit-details-marker {
    display: none;
}

.tree-node summary::before {
    content: 'â–º';
    display: inline-block;
    margin-right: 5px;
    transform: rotate(0);
    transition: transform 0.2s;
}

.tree-node details[open] > summary::before {
    transform: rotate(90deg);
}

.tree-node a {
    text-decoration: none;
}

.tree-node a:hover {
    text-decoration: underline;
}
</style>
